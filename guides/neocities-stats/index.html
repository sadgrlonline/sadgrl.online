<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Astro"><title>Display last update and visitor count on Neocities</title><meta property="og:title" content="Display last update and visitor count on Neocities"><link rel="stylesheet" href="/styles/global.css"><script type="module">document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("menu-toggle"),n=document.querySelector(".container");e.addEventListener("click",function(){n.classList.toggle("sidebar-open")})});</script><script src="//gc.zgo.at/count.js" data-goatcounter="https://sadgrl.goatcounter.com/count" async></script><style>.article p a{color:var(--accent-purple)}blockquote:has(strong){border-left:5px solid var(--accent-purple);background-color:#1a1a1a;padding:.5em;margin-left:0}blockquote:has(strong) p{margin:5px;color:var(--white);font-size:smaller}.demo{border:1px dotted var(--white);padding:15px}ol+p>img{padding-left:40px}#backToTop[data-astro-cid-5grsw2hi]{position:fixed;bottom:30px;right:30px;padding:10px 15px;font-size:1rem;font-family:sans-serif;background-color:var(--black);color:var(--accent-green);border:2px solid var(--accent-purple);border-radius:8px;cursor:pointer;opacity:0;visibility:hidden;transition:opacity .4s ease,visibility .4s ease;z-index:1001}#backToTop[data-astro-cid-5grsw2hi].show{opacity:1;visibility:visible}#backToTop[data-astro-cid-5grsw2hi]:hover{background-color:var(--accent-green);color:#000}#backToTop[data-astro-cid-5grsw2hi]:focus{outline:2px solid var(--accent-purple);outline-offset:3px}#backToTop[data-astro-cid-5grsw2hi].bottom-left{right:auto;left:30px}
</style></head> <body> <div class="container withMetadata"> <header class="header"> <button id="menu-toggle" aria-label="Toggle Sidebar">☰</button> <span class="site-name"><a href="/"><img src="/_astro/logo.C3AjZVvt_2gISNf.webp" loading="eager" alt="sadgrl.online logo" style="height: auto; width: auto; max-width: 500px;" decoding="async" fetchpriority="auto" width="450" height="138"></a></span> </header> <aside class="sidebar"> <nav> <ul> <li><a href="/">Home</a></li> <li><a href="/writing/">Writing</a></li> <li> <a href="/links/">Links</a> </li><li><a href="/about">About</a></li> <li><a href="/guides/">Guides</a></li> <li><a href="/resources/">Resources</a></li> </ul> </nav> </aside> <main class="main-content">  <h1 data-astro-cid-5grsw2hi>Display last update and visitor count on Neocities</h1>  <div class="article" data-astro-cid-5grsw2hi> <p>This guide is for publicly displaying the date your site was last updated and how many visitors you’ve had on your website.</p>
<p>This guide uses the technique created by <a href="https://dannarchy.com/tut/tut_002.html" rel="noopener noreferrer" target="_blank">Dannarchy @ Neocities</a>.</p>
<ol>
<li>Edit the page you want to display these values on, and paste the following code before your closing <code>&#x3C;/body></code> tag.</li>
</ol>
<pre class="astro-code houston" style="background-color:#17191e;color:#eef0f9; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#EEF0F9">&#x3C;</span><span style="color:#54B9FF">script</span><span style="color:#EEF0F9">></span></span>
<span class="line"><span style="color:#EEF0F9">var xhttp = new XMLHttpRequest();</span></span>
<span class="line"><span style="color:#EEF0F9">xhttp.onreadystatechange = function() </span><span style="color:#54B9FF">{</span></span>
<span class="line"><span style="color:#00DAEF">    if</span><span style="color:#EEF0F9"> (</span><span style="color:#ACAFFF">this</span><span style="color:#EEF0F9">.</span><span style="color:#4BF3C8">readyState</span><span style="color:#EEF0F9"> == </span><span style="color:#FFD493">4</span><span style="color:#EEF0F9"> &#x26;&#x26; </span><span style="color:#ACAFFF">this</span><span style="color:#EEF0F9">.</span><span style="color:#4BF3C8">status</span><span style="color:#EEF0F9"> == </span><span style="color:#FFD493">200</span><span style="color:#EEF0F9">) {</span></span>
<span class="line"><span style="color:#EEF0F9">        var </span><span style="color:#4BF3C8">site_data</span><span style="color:#EEF0F9"> = </span><span style="color:#ACAFFF">JSON</span><span style="color:#EEF0F9">.</span><span style="color:#00DAEF">parse</span><span style="color:#EEF0F9">(</span><span style="color:#ACAFFF">this</span><span style="color:#EEF0F9">.</span><span style="color:#4BF3C8">responseText</span><span style="color:#EEF0F9">);</span></span>
<span class="line"><span style="color:#EEF0F9">        var </span><span style="color:#4BF3C8">num_arr</span><span style="color:#EEF0F9"> = </span><span style="color:#4BF3C8">site_data</span><span style="color:#EEF0F9">.</span><span style="color:#4BF3C8">info</span><span style="color:#EEF0F9">.</span><span style="color:#4BF3C8">views</span><span style="color:#EEF0F9">.</span><span style="color:#00DAEF">toString</span><span style="color:#EEF0F9">().</span><span style="color:#00DAEF">split</span><span style="color:#EEF0F9">(</span><span style="color:#FFD493">""</span><span style="color:#EEF0F9">);</span></span>
<span class="line"><span style="color:#EEF0F9">        var </span><span style="color:#4BF3C8">num_str</span><span style="color:#EEF0F9"> = </span><span style="color:#FFD493">""</span><span style="color:#EEF0F9">;</span></span>
<span class="line"><span style="color:#00DAEF">        for</span><span style="color:#EEF0F9"> (</span><span style="color:#4BF3C8;font-style:italic">i</span><span style="color:#EEF0F9"> = </span><span style="color:#FFD493">0</span><span style="color:#EEF0F9">; </span><span style="color:#4BF3C8;font-style:italic">i</span><span style="color:#EEF0F9"> &#x3C; num_arr.length; </span><span style="color:#4BF3C8;font-style:italic">i</span><span style="color:#EEF0F9">++) {</span></span>
<span class="line"><span style="color:#4BF3C8">            num_str</span><span style="color:#EEF0F9"> += </span><span style="color:#4BF3C8">num_arr</span><span style="color:#EEF0F9">[</span><span style="color:#4BF3C8">i</span><span style="color:#EEF0F9">];</span></span>
<span class="line"><span style="color:#54B9FF">            if</span><span style="color:#EEF0F9"> ( (</span><span style="color:#4BF3C8">num_arr</span><span style="color:#EEF0F9">.</span><span style="color:#4BF3C8">length</span><span style="color:#EEF0F9">-</span><span style="color:#FFD493">1</span><span style="color:#EEF0F9"> - </span><span style="color:#4BF3C8">i</span><span style="color:#EEF0F9">) % </span><span style="color:#FFD493">3</span><span style="color:#EEF0F9"> == </span><span style="color:#FFD493">0</span><span style="color:#EEF0F9"> &#x26;&#x26; (</span><span style="color:#4BF3C8">num_arr</span><span style="color:#EEF0F9">.</span><span style="color:#4BF3C8">length</span><span style="color:#EEF0F9">-</span><span style="color:#FFD493">1</span><span style="color:#EEF0F9"> - </span><span style="color:#4BF3C8">i</span><span style="color:#EEF0F9">) != </span><span style="color:#FFD493">0</span><span style="color:#EEF0F9"> ) {</span><span style="color:#4BF3C8">num_str</span><span style="color:#EEF0F9"> += </span><span style="color:#FFD493">","</span><span style="color:#EEF0F9">;}</span></span>
<span class="line"><span style="color:#54B9FF">            var</span><span style="color:#4BF3C8"> date_str</span><span style="color:#EEF0F9"> = </span><span style="color:#4BF3C8">site_data</span><span style="color:#EEF0F9">.</span><span style="color:#4BF3C8">info</span><span style="color:#EEF0F9">.</span><span style="color:#4BF3C8">last_updated</span><span style="color:#EEF0F9">;</span></span>
<span class="line"><span style="color:#54B9FF">            var</span><span style="color:#4BF3C8"> date_obj</span><span style="color:#EEF0F9"> = </span><span style="color:#54B9FF">new</span><span style="color:#00DAEF"> Date</span><span style="color:#EEF0F9">(</span><span style="color:#4BF3C8">site_data</span><span style="color:#EEF0F9">.</span><span style="color:#4BF3C8">info</span><span style="color:#EEF0F9">.</span><span style="color:#4BF3C8">last_updated</span><span style="color:#EEF0F9">);</span></span>
<span class="line"><span style="color:#4BF3C8">            document</span><span style="color:#EEF0F9">.</span><span style="color:#00DAEF">getElementById</span><span style="color:#EEF0F9">(</span><span style="color:#FFD493">"lastupdate"</span><span style="color:#EEF0F9">).</span><span style="color:#4BF3C8">innerHTML</span><span style="color:#EEF0F9"> = (</span><span style="color:#4BF3C8">date_obj</span><span style="color:#EEF0F9">.</span><span style="color:#00DAEF">getMonth</span><span style="color:#EEF0F9">()+</span><span style="color:#FFD493">1</span><span style="color:#EEF0F9">) + </span><span style="color:#FFD493">"-"</span><span style="color:#EEF0F9"> + </span><span style="color:#4BF3C8">date_obj</span><span style="color:#EEF0F9">.</span><span style="color:#00DAEF">getDate</span><span style="color:#EEF0F9">() + </span><span style="color:#FFD493">"-"</span><span style="color:#EEF0F9"> + </span><span style="color:#4BF3C8">date_obj</span><span style="color:#EEF0F9">.</span><span style="color:#00DAEF">getFullYear</span><span style="color:#EEF0F9">();</span></span>
<span class="line"><span style="color:#EEF0F9">        }</span></span>
<span class="line"><span style="color:#EEF0F9">        document.getElementById(</span><span style="color:#FFD493">"hitcount"</span><span style="color:#4BF3C8">).innerHTML = num_str;</span></span>
<span class="line"><span style="color:#4BF3C8">    }</span></span>
<span class="line"><span style="color:#4BF3C8">};</span></span>
<span class="line"><span style="color:#4BF3C8">xhttp.open(</span><span style="color:#FFD493">"GET"</span><span style="color:#EEF0F9">, </span><span style="color:#FFD493">"https://weirdscifi.ratiosemper.com/neocities.php?sitename=USERNAME"</span><span style="color:#EEF0F9">, true);</span></span>
<span class="line"><span style="color:#EEF0F9">xhttp.send();</span></span>
<span class="line"><span style="color:#EEF0F9">&#x3C;/script></span></span></code></pre>
<ol start="2">
<li>In the code above, change the <code>USERNAME</code> value to match your Neocities username.</li>
<li>To display the last update, use this code where you’d like it to show up:</li>
</ol>
<pre class="astro-code houston" style="background-color:#17191e;color:#eef0f9; overflow-x: auto;" tabindex="0" data-language="html"><code><span class="line"><span style="color:#EEF0F9">Last Updated: &#x3C;</span><span style="color:#54B9FF">span</span><span style="color:#ACAFFF"> id</span><span style="color:#EEF0F9">=</span><span style="color:#4BF3C8">"lastupdate"</span><span style="color:#EEF0F9">>&#x3C;/</span><span style="color:#54B9FF">span</span><span style="color:#EEF0F9">></span></span></code></pre>
<ol start="4">
<li>To display the visitor count, use this code:</li>
</ol>
<pre class="astro-code houston" style="background-color:#17191e;color:#eef0f9; overflow-x: auto;" tabindex="0" data-language="html"><code><span class="line"><span style="color:#EEF0F9">You are Visitor #: &#x3C;</span><span style="color:#54B9FF">span</span><span style="color:#ACAFFF"> id</span><span style="color:#EEF0F9">=</span><span style="color:#4BF3C8">"hitcount"</span><span style="color:#EEF0F9">>&#x3C;/</span><span style="color:#54B9FF">span</span><span style="color:#EEF0F9">></span></span></code></pre>
<ol start="5">
<li>Save and view your file to verify that it worked.</li>
</ol> </div>   <script>
    document.addEventListener("DOMContentLoaded", () => {
      const backToTop = document.getElementById("backToTop");
      const scrollOffset = 300;

      window.addEventListener("scroll", () => {
        if (window.scrollY > scrollOffset) {
          backToTop.classList.add("show");
        } else {
          backToTop.classList.remove("show");
        }
      });

      backToTop.addEventListener("click", () => {
        window.scrollTo({ top: 0, behavior: "smooth" });
      });
    });
  </script>  </main> <aside class="metadata"> <div class="topics section even" data-astro-cid-5grsw2hi> <div class="title" data-astro-cid-5grsw2hi> <p data-astro-cid-5grsw2hi><strong data-astro-cid-5grsw2hi>Topics</strong></p> </div> <div class="tags" data-astro-cid-5grsw2hi> <p class="tag" data-astro-cid-5grsw2hi> <a href="/posts/tags/neocities" data-astro-cid-5grsw2hi>neocities</a> </p> </div> </div> <hr data-astro-cid-5grsw2hi>  </aside> <footer class="footer"></footer> </div>  </body></html>